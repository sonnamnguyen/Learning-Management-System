<!-- base.html -->
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">

<head th:replace="~{fragments :: common_header(~{::title}, ~{::link})}">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/styles.css">
</head>

<body>
<!-- Wrapper for the whole page -->
<div class="mx-2">
    <!-- Sticky Header -->
    <div th:replace="~{fragments :: header}" class="sticky-top"></div> <!-- Header always on top -->

<!--    <h1 class="text-center my-4 display-4 text-primary">Dashboard</h1>-->


    <div th:each="group : ${moduleGroups}" class="mb-5">

        <!-- Module Group Title -->
<!--        <h2 class="text-primary fw-semibold mb-4" th:text="${group.name}"></h2>-->

        <!-- Responsive Row for Modules -->
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            <!-- Loop through Modules -->
            <div th:each="module : ${modules}" th:if="${module.moduleGroup == group}" class="col">
                <div class="card h-100 border-0 shadow-sm">
                    <!-- Module Link -->
                    <a th:href="${module.url}"
                       class="text-decoration-none text-dark">
                        <div class="card-body d-flex flex-column align-items-center justify-content-center text-center py-5">
                            <!-- Module Icon -->
                            <div class="icon mb-3">
                                <i th:if="${module.icon}" th:classappend="${module.icon} + ' fa-3x text-primary'"></i>
                            </div>

                            <!-- Module Name -->
                            <h5 class="card-title mb-2 fs-4" th:text="${module.name}"></h5>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>


    <!-- Footer -->
    <div th:replace="~{fragments :: footer}" class="mt-auto"></div> <!-- Footer stays at the bottom -->
</div>

<div th:replace="~{fragments :: scripts}" class="mt-auto"></div>
<script>

</script>
</body>
</html>
